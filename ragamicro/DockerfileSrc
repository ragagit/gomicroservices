#FROM golang:1.10.3
FROM golang:1.12.7-alpine
MAINTAINER ragadocker
ENV SOURCES /go/src/github.com/ragagit/ragamicro
ENV SOURCES1 /go/src/github.com/ragagit
#ADD . ${SOURCES}
#RUN cd ${SOURCES}/ragamicro && CGO_ENABLE=0 go install
COPY . ${SOURCES}
#ADD api ${SOURCES}
#RUN go install github.com/ragagit/ragamicro
RUN cd ${SOURCES} && CGO_ENABLED=0 go install
ENV PORT 8080
EXPOSE 8080
ENTRYPOINT ragamicro

#=========== Improved ============
#FROM alpine
#MAINTAINER ragadocker

#COPY ./ragamicro/ragamicro /app/ragamicro
#RUN chmod +x /app/ragamicro

#ENV PORT 8080
#EXPOSE 8080

#ENTRYPOINT /app/ragamicro
